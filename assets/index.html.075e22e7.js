import{_ as o,o as t,c as i,b as e,d as c,e as r,a as d,r as n}from"./app.00e82ae7.js";var h="/assets/\u7ED3\u6784.7b58030b.jpg",s="/assets/\u6D88\u606F\u4E8B\u52A1.ea495cf5.png",p="/assets/\u6301\u4E45\u5316\u7ED3\u6784.653a5655.png";const l={},u=e("h1",{id:"rocketmq",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#rocketmq","aria-hidden":"true"},"#"),r(" RocketMQ")],-1),k=e("h2",{id:"\u7B80\u4ECB",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#\u7B80\u4ECB","aria-hidden":"true"},"#"),r(" \u7B80\u4ECB")],-1),_=e("p",null,"RocketMQ\u662F\u963F\u91CC\u5DF4\u5DF4\u56E2\u961F\u5F00\u53D1\u7684\u6D88\u606F\u4E2D\u95F4\u4EF6, \u7ECF\u5386\u8FC7\u53CC\u5341\u4E00\u7684\u8003\u9A8C, \u4E14\u6709\u5B98\u65B9\u4E2D\u6587\u6587\u6863",-1),m=e("p",null,"\u5DF2\u4E8E2016\u5E74\u8D21\u732E\u7ED9Apache, \u662F\u5176\u9876\u7EA7\u9879\u76EE\u4E4B\u4E00",-1),f=r("\u5B98\u7F51\u5730\u5740: "),g={href:"https://rocketmq.apache.org/",target:"_blank",rel:"noopener noreferrer"},x=r("Apache RocketMQ"),b=d('<h2 id="\u7ED3\u6784" tabindex="-1"><a class="header-anchor" href="#\u7ED3\u6784" aria-hidden="true">#</a> \u7ED3\u6784</h2><p><img src="'+h+'" alt="\u7ED3\u6784"></p><ul><li>NameServer: \u6CE8\u518C\u4E2D\u5FC3</li><li>Broker: \u6D88\u606F\u4EE3\u7406</li><li>Topic: \u4E3B\u9898</li><li>Queue: \u961F\u5217</li><li>Producer: \u751F\u4EA7\u8005</li><li>Consumer: \u6D88\u8D39\u8005</li></ul><p>\u5176\u4E2DNameServer/Broker/Producer/Consumer\u90FD\u652F\u6301\u96C6\u7FA4\u90E8\u7F72, Broker\u8FD8\u652F\u6301\u4E3B\u4ECE\u90E8\u7F72</p><h2 id="\u7279\u6027" tabindex="-1"><a class="header-anchor" href="#\u7279\u6027" aria-hidden="true">#</a> \u7279\u6027</h2><h3 id="broker\u4E3B\u4ECE\u90E8\u7F72" tabindex="-1"><a class="header-anchor" href="#broker\u4E3B\u4ECE\u90E8\u7F72" aria-hidden="true">#</a> Broker\u4E3B\u4ECE\u90E8\u7F72</h3><p>\u4E3B\u4ECE\u90E8\u7F72\u7684Broker, <strong>\u4ECE\u673A\u53EA\u80FD\u63D0\u4F9B\u6D88\u8D39\u6D88\u606F\u670D\u52A1, \u4E0D\u80FD\u63D0\u4F9B\u5199\u5165\u6D88\u606F\u670D\u52A1</strong></p><p>\u63D0\u4F9B\u4E86\u5171\u8BC6\u9009\u4E3E\u7B97\u6CD5\u65B9\u6848DLedger, \u4E0EKafka\u7C7B\u4F3C</p><h3 id="broker\u4E0Etopic" tabindex="-1"><a class="header-anchor" href="#broker\u4E0Etopic" aria-hidden="true">#</a> Broker\u4E0ETopic</h3><p><strong>Broker\u4E0ETopic\u662F\u591A\u5BF9\u591A\u5173\u7CFB</strong>, <strong>Topic\u4E0EQueue\u662F\u4E00\u5BF9\u591A\u5173\u7CFB</strong></p><p>\u4E00\u4E2ABroker\u4E0A\u4F1A\u6709\u591A\u4E2ATopic(\u7684\u591A\u4E2A\u961F\u5217), \u4E00\u4E2ATopic(\u7684\u591A\u4E2A\u961F\u5217)\u5206\u5E03\u5728\u591A\u4E2ABroker\u4E0A</p><div class="custom-container tip"><p class="custom-container-title">\u63D0\u793A</p><p>RocketMQ\u7684Queue\u7B49\u540C\u4E8EKafka\u4E2D\u7684Partition</p></div><h3 id="\u6D88\u606F\u4E8B\u52A1" tabindex="-1"><a class="header-anchor" href="#\u6D88\u606F\u4E8B\u52A1" aria-hidden="true">#</a> \u6D88\u606F\u4E8B\u52A1</h3><p>\u6D88\u606F\u4E8B\u52A1\u662F\u6307: <strong>\u672C\u5730\u4E8B\u52A1\u548C\u5B58\u50A8\u6D88\u606F\u5230\u6D88\u606F\u961F\u5217\u662F\u540C\u4E00\u4E2A\u4E8B\u52A1</strong></p><p>RocketMQ\u5229\u7528\u4E8B\u52A1\u6D88\u606F+\u4E8B\u52A1\u53CD\u67E5\u673A\u5236\u5B9E\u73B0\u4E86\u6D88\u606F\u4E8B\u52A1:</p><p><img src="'+s+'" alt="\u6D88\u606F\u4E8B\u52A1"></p><h3 id="\u5B9A\u65F6\u6D88\u606F" tabindex="-1"><a class="header-anchor" href="#\u5B9A\u65F6\u6D88\u606F" aria-hidden="true">#</a> \u5B9A\u65F6\u6D88\u606F</h3><p>RocketMQ\u652F\u6301\u5B9A\u65F6\u6D88\u606F, \u5176\u539F\u7406\u53EF\u4EE5\u7406\u89E3\u4E3A\u5EF6\u65F6\u961F\u5217</p><p>\u901A\u8FC7\u521B\u5EFA\u6307\u5B9A\u65F6\u95F4\u7CBE\u5EA6\u7684\u6D88\u606F\u961F\u5217, \u4F7FBroker\u6309\u7167\u89C4\u5219\u5C06\u6D88\u606F\u53D1\u9001\u5230\u6D88\u8D39\u8005\u8FDB\u884C\u6D88\u8D39</p><p>\u4EE3\u7801\u4E2D\u4F7F\u7528<code>newSingleThreadScheduledExecutor</code>\u5B9E\u73B0</p><h3 id="\u6D88\u8D39\u8005\u4E0E\u961F\u5217" tabindex="-1"><a class="header-anchor" href="#\u6D88\u8D39\u8005\u4E0E\u961F\u5217" aria-hidden="true">#</a> \u6D88\u8D39\u8005\u4E0E\u961F\u5217</h3><p>\u5728RocketMQ\u4E2D, <strong>\u4E00\u4E2A\u961F\u5217\u53EA\u4F1A\u88AB\u4E00\u4E2A\u6D88\u8D39\u8005\u6D88\u8D39</strong></p><h3 id="\u6D88\u8D39\u8005\u96C6\u7FA4" tabindex="-1"><a class="header-anchor" href="#\u6D88\u8D39\u8005\u96C6\u7FA4" aria-hidden="true">#</a> \u6D88\u8D39\u8005\u96C6\u7FA4</h3><p>\u6D88\u8D39\u8005\u96C6\u7FA4\u90E8\u7F72\u65F6, \u652F\u6301<strong>\u5E7F\u64AD\u6A21\u5F0F</strong>\u548C<strong>\u96C6\u7FA4\u6A21\u5F0F</strong>(\u53EA\u6709\u4E00\u4E2A\u6D88\u8D39\u8005\u6D88\u8D39)</p><p>\u5E7F\u64AD\u6A21\u5F0F\u65F6, \u4E00\u4E2A\u6D88\u606F\u88AB\u6240\u6709\u6D88\u8D39\u8005\u5171\u540C\u6D88\u8D39, \u6BCF\u4E2A\u6D88\u8D39\u8005\u4FDD\u5B58\u81EA\u5DF1\u7684\u6D88\u8D39\u8FDB\u5EA6</p><p>\u96C6\u7FA4\u6A21\u5F0F\u65F6, \u4E00\u4E2A\u6D88\u606F\u53EA\u88AB\u4E00\u4E2A\u6D88\u8D39\u8005\u6D88\u8D39, \u6D88\u8D39\u8FDB\u5EA6\u4FDD\u5B58\u5728Broker\u4E0A</p><h3 id="\u6D88\u8D39\u539F\u7406" tabindex="-1"><a class="header-anchor" href="#\u6D88\u8D39\u539F\u7406" aria-hidden="true">#</a> \u6D88\u8D39\u539F\u7406</h3><p>RocketMQ\u5B58\u5728\u6D88\u8D39\u5EF6\u8FDF\u7684\u95EE\u9898</p><p>\u539F\u56E0\u5728\u4E8EBroker\u5E76\u4E0D\u662F\u771F\u6B63\u7684\u5C06\u6D88\u606F\u4E3B\u52A8\u7684\u63A8\u9001\u5230\u6D88\u8D39\u8005, \u800C\u662F\u901A\u8FC7\u6D88\u8D39\u8005\u5B9A\u65F6\u8F6E\u8BE2\u62C9\u53D6\u5B9E\u73B0\u7684</p><h3 id="\u6D88\u8D39\u8FC7\u6EE4" tabindex="-1"><a class="header-anchor" href="#\u6D88\u8D39\u8FC7\u6EE4" aria-hidden="true">#</a> \u6D88\u8D39\u8FC7\u6EE4</h3><p>RocketMQ\u63D0\u4F9B\u4E86\u6D88\u606F\u8FC7\u6EE4\u670D\u52A1</p><p>\u53EF\u4EE5\u5728Broker\u5C06\u6D88\u606F\u63A8\u9001\u7ED9\u6D88\u8D39\u8005\u65F6\u8FDB\u884C\u8FC7\u6EE4, \u6D88\u8D39\u8005\u62FF\u5230\u7684\u662F\u8FC7\u6EE4\u540E\u7684\u6D88\u606F</p><h3 id="\u56DE\u6EAF\u6D88\u8D39" tabindex="-1"><a class="header-anchor" href="#\u56DE\u6EAF\u6D88\u8D39" aria-hidden="true">#</a> \u56DE\u6EAF\u6D88\u8D39</h3><p>RocketMQ\u4E2D\u7684\u6D88\u606F\u5728\u6210\u529F\u6D88\u8D39\u540E\u4ECD\u7136\u4FDD\u7559</p><p>\u53EF\u4EE5\u6309\u7167\u65F6\u95F4\u8FDB\u884C\u56DE\u6EAF\u6D88\u8D39, \u7CBE\u786E\u5230\u79D2</p><h2 id="\u6301\u4E45\u5316" tabindex="-1"><a class="header-anchor" href="#\u6301\u4E45\u5316" aria-hidden="true">#</a> \u6301\u4E45\u5316</h2><p>\u6301\u4E45\u5316\u53EF\u4EE5\u7B80\u5355\u7406\u89E3\u4E3A\u6570\u636E\u5237\u76D8, \u4E00\u822C\u6709\u5982\u4E0B\u4E24\u79CD\u6A21\u5F0F:</p><ul><li>\u540C\u6B65\u5237\u76D8: \u4E0D\u4F1A\u4E22\u5931\u6570\u636E, \u4F46\u6027\u80FD\u8F83\u5DEE, \u4E00\u822C\u9002\u7528\u4E8E\u91D1\u878D\u7B49\u7279\u5B9A\u4E1A\u52A1\u573A\u666F</li><li>\u5F02\u6B65\u5237\u76D8: \u6027\u80FD\u8F83\u9AD8, \u4F46\u610F\u5916\u5B95\u673A\u53EF\u80FD\u4F1A\u9020\u6210\u6570\u636E\u4E22\u5931</li></ul><p>RocketMQ\u652F\u6301\u4E0A\u8FF0\u4E24\u79CD\u5237\u76D8\u7B56\u7565, \u5177\u4F53\u5B9E\u73B0\u65B9\u5F0F\u5982\u4E0B:</p><h3 id="\u4E09\u5927\u89D2\u8272" tabindex="-1"><a class="header-anchor" href="#\u4E09\u5927\u89D2\u8272" aria-hidden="true">#</a> \u4E09\u5927\u89D2\u8272</h3><p><img src="'+p+'" alt="\u6301\u4E45\u5316\u7ED3\u6784"></p><ul><li><code>CommitLog</code>: \u6D88\u606F\u5B58\u50A8\u4E3B\u4F53, \u5355\u4E2A\u6587\u4EF6\u5927\u5C0F\u9ED8\u8BA41G, \u6587\u4EF6\u540D\u4E3A\u8D77\u59CB\u504F\u79FB\u91CF, \u957F\u5EA620\u4F4D\uFF0C\u5DE6\u8FB9\u8865\u96F6, <strong>\u6240\u6709\u6D88\u606F\u6309\u7167\u987A\u5E8F\u8FDB\u884C\u5199\u5165</strong></li><li><code>ConsumeQueue</code>: \u6D88\u8D39\u961F\u5217, \u6BCF\u4E2A\u6587\u4EF6\u4FDD\u5B5830W\u4E2A\u6761\u76EE, \u5927\u5C0F\u7EA6\u4E3A5.72M, \u53EF\u4EE5\u7406\u89E3\u4E3A<code>CommitLog</code>\u7684\u7D22\u5F15\u6587\u4EF6, \u4FDD\u5B58\u76EE\u5F55\u7ED3\u6784\u4E3A<code>{topic}/{queueId}/{filename}</code>, \u4E3B\u8981\u76EE\u7684\u662F\u4E3A\u4E86\u63D0\u9AD8\u6D88\u8D39\u6027\u80FD</li><li><code>IndexFile</code>: \u7D22\u5F15\u6587\u4EF6, \u63D0\u4F9B\u4E86\u4E00\u79CD\u53EF\u4EE5\u901A\u8FC7key\u6216\u65F6\u95F4\u533A\u95F4\u6765\u67E5\u8BE2\u6D88\u606F\u7684\u65B9\u6CD5</li></ul><p>\u6301\u4E45\u5316\u7684\u4E3B\u8981\u6587\u4EF6\u4E3A<code>CommitLog</code>/<code>ConsumeQueue</code></p><div class="custom-container tip"><p class="custom-container-title">\u63D0\u793A</p><p>Kafka\u4E2D\u662F\u6BCF\u4E2A\u4E3B\u9898\u4E00\u4E2A\u6587\u4EF6, RocketMQ\u4E2D\u662F\u6240\u6709\u961F\u5217\u5171\u7528\u4E00\u4E2A\u6587\u4EF6</p><p>\u8FD9\u4E48\u505A\u7684\u76EE\u7684\u662F\u4E3A\u4E86<strong>\u63D0\u9AD8\u5199\u5165\u6548\u7387</strong></p></div><h3 id="\u4EE3\u7801\u5199\u5165" tabindex="-1"><a class="header-anchor" href="#\u4EE3\u7801\u5199\u5165" aria-hidden="true">#</a> \u4EE3\u7801\u5199\u5165</h3><p>RocketMQ\u4F7F\u7528<code>FileChannel</code>+<code>DirectBuffer</code>\u5B9E\u73B0\u6301\u4E45\u5316</p><p>\u5176\u4E2D<code>DirectBuffer</code>\u4F7F\u7528\u5806\u5916\u5185\u5B58, \u4E0D\u4F1A\u88ABGC\u968F\u610F\u79FB\u52A8, \u6240\u4EE5\u5199\u5165\u6548\u7387\u4F1A\u66F4\u9AD8</p><p><code>FileChannel</code>\u9650\u5236\u4E86\u6587\u4EF6\u5927\u5C0F\u4E3A<code>Integer.MAX_VALUE</code>, \u53732147483647, \u6240\u4EE5<code>CommitLog</code>\u5927\u5C0F\u4E3A1G</p>',48);function B(Q,M){const a=n("ExternalLinkIcon");return t(),i("div",null,[u,k,_,m,e("p",null,[f,e("a",g,[x,c(a)])]),b])}var R=o(l,[["render",B],["__file","index.html.vue"]]);export{R as default};
